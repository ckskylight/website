<!doctype html>
<html class="no-js" lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CK Ong</title>
    <link rel="stylesheet" href="css/foundation.css" />
    <link rel="stylesheet" href="css/navbar-mod.css" />
    <link href='http://fonts.googleapis.com/css?family=Fredericka+the+Great|Quicksand' rel='stylesheet' type='text/css'>
    <link href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="js/vendor/modernizr.js"></script>
</head>

<body>

    <div class="underline"></div>

    <div class="navbar">
        <ul class="side-menu">
            <li class="metro">
                <p class="navbutton" id="interests">
                    <a href="#">
                        Interests
                    </a>
                </p>
            </li>
            <li class="metro">
                <p class="navbutton" id="experience">
                    <a href="#">
                        Experience
                    </a>
                </p>
            </li>
            <li class="metro">
                <p class="navbutton" id="skills">
                    <a href="#">
                        Skills
                    </a>
                </p>
            </li>

        </ul>
    </div>


    <script>
        var menu_head = $('ul.side-menu h2.title').height();
        var item_height = $('ul.side-menu li a').height();
        var row_width = $('#nav-container').width();

        var timeoutHandle;

        function handlerIn() {
            if (!$('.underline').hasClass('open')) {
                console.log("open");
                console.log("row width " + row_width);
                $('ul.side-menu').addClass('open');
                $('.underline').addClass('open');
                $('body').addClass('open');

                $('ul.side-menu li').each(function() {
                    // Metro Effect
                    if ($(this).hasClass('metro')) {
                        var col_i = $(this).index(); // Horizontal Index
                        var fromLeft = (0.80 * window.innerWidth) - (col_i * 125) - 125;
                        var delayTime = col_i * 150;
                        //console.log(delayTime);
                        //$(this).css("top", 0);
                        $(this).dequeue();
                        $(this).delay(delayTime).queue(function() {
                            $(this).css("left", fromLeft);
                            $(this).css("opacity", 100);
                            $(this).dequeue();
                        });
                    }
                });
            }

            window.clearTimeout(timeoutHandle);

            timeoutHandle = window.setTimeout(function() {
                console.log("actual close");
                $('ul.side-menu').removeClass('open');
                $('.underline').removeClass('open');
                $('body').removeClass('open');

                // Reset menu on close
                $('ul.side-menu li').each(function() {
                    var col_i = $(this).index(); // Horizontal Index
                    //var fromTop = menu_head + (row_i * 125);
                    var fromLeft = (0.15 * window.innerWidth) + (col_i * 125);
                    var delayTime = Math.abs((3 - col_i) * 100);
                    $(this).delay(delayTime).queue(function() {
                        $(this).css("left", fromLeft);
                        $(this).css("opacity", 0);
                        $(this).dequeue();
                    });
                });
            }, 10000);
        }

        function handlerOut() {
            console.log("close");
        }


        
        
        // INTERESTS HANDLERS

        function interestsClickHandler() {
            if ( $("#background-interests-blur").hasClass("active") ) {
                $("#background-interests-blur").fadeOut(700).removeClass("active");
                $("#background-interests").fadeOut(500);
            }
            else {
                $("#background-interests").fadeIn(500);
                $("#background-interests-blur").fadeIn(700).addClass("active");
            } 
        }
        
        function interestsHoverInHandler() {
            $("#background-interests").fadeIn(500);
        }
        
        function interestsHoverOutHandler() {
            if (! $("#background-interests-blur").hasClass("active") ) {
                $("#background-interests").fadeOut(500);
            }
            
        }

        $("#interests").click(interestsClickHandler);
        
        $("#interests").hover(interestsHoverInHandler, interestsHoverOutHandler);
        
        
        // EXPERIENCE HANDLERS

        function experienceClickHandler() {
            if ( $("#background-experience-blur").hasClass("active") ) {
                $("#background-experience-blur").fadeOut(700).removeClass("active");
                $("#background-experience").fadeOut(500);
            }
            else {
                $("#background-experience").fadeIn(500);
                $("#background-experience-blur").fadeIn(700).addClass("active");
            } 
        }
        
        function experienceHoverInHandler() {
            $("#background-experience").fadeIn(500);
        }
        
        function experienceHoverOutHandler() {
            if (! $("#background-experience-blur").hasClass("active") ) {
                $("#background-experience").fadeOut(500);
            }
            
        }

        $("#experience").click(experienceClickHandler);
        
        $("#experience").hover(experienceHoverInHandler, experienceHoverOutHandler);
        
        
        
        // SKILLS HANDLERS

        function skillsClickHandler() {
            if ( $("#background-skills-blur").hasClass("active") ) {
                $("#background-skills-blur").fadeOut(700).removeClass("active");
                $("#background-skills").fadeOut(500);
            }
            else {
                $("#background-skills").fadeIn(500);
                $("#background-skills-blur").fadeIn(700).addClass("active");
            } 
        }
        
        function skillsHoverInHandler() {
            $("#background-skills").fadeIn(500);
        }
        
        function skillsHoverOutHandler() {
            if (! $("#background-skills-blur").hasClass("active") ) {
                $("#background-skills").fadeOut(500);
            }
            
        }

        $("#skills").click(skillsClickHandler);
        
        $("#skills").hover(skillsHoverInHandler, skillsHoverOutHandler);
        
    </script>

    <div class="background-home" id="background-home" >
        <img src="img/Home-green.png" id="home-image" />
    </div>
    
    <div class="background" id="background-interests" >
        <img src="img/Interests-opaque-menu-room-clean.png" id="interests-image" />
    </div>
    
    <div class="blur" id="background-interests-blur">
        <div class="scrollbox">
            <h1>Interests</h1>
            <h2>Photography</h2>
            <h2>Acapella</h2>
            <h2>Environmental Issues</h2>
            <h2>Entrepreneurship</h2>
            <h2>Astro-everything</h2>
            <h2>Photography</h2>
            <h2>Acapella</h2>
            <h2>Environmental Issues</h2>
            <h2>Entrepreneurship</h2>
            <h2>Astro-everything</h2>
            <h2>Photography</h2>
            <h2>Acapella</h2>
            <h2>Environmental Issues</h2>
            <h2>Entrepreneurship</h2>
            <h2>Astro-everything</h2>
            <h2>Photography</h2>
            <h2>Acapella</h2>
            <h2>Environmental Issues</h2>
            <h2>Entrepreneurship</h2>
            <h2>Astro-everything</h2>
            <h2>Photography</h2>
            <h2>Acapella</h2>
            <h2>Environmental Issues</h2>
            <h2>Entrepreneurship</h2>
            <h2>Astro-everything</h2>
            <h2>Photography</h2>
            <h2>Acapella</h2>
            <h2>Environmental Issues</h2>
            <h2>Entrepreneurship</h2>
            <h2>Astro-everything</h2>
            <h2>Photography</h2>
            <h2>Acapella</h2>
            <h2>Environmental Issues</h2>
            <h2>Entrepreneurship</h2>
            <h2>Astro-everything</h2>
            <h2>Photography</h2>
            <h2>Acapella</h2>
            <h2>Environmental Issues</h2>
            <h2>Entrepreneurship</h2>
            <h2>Astro-everything</h2>
            <h2>Photography</h2>
            <h2>Acapella</h2>
            <h2>Environmental Issues</h2>
            <h2>Entrepreneurship</h2>
            <h2>Astro-everything</h2>
            
        </div>
        <img src="img/Interests-blur-clean.png" id="interests-image">
    </div>
    
    
    
    <div class="background" id="background-experience" >
        <img src="img/Experience.png" id="experience-image" />
    </div>
    
    <div class="blur" id="background-experience-blur">
        <div class="scrollbox">
            <h1>Experience</h1>
            <h2>Photography</h2>
            <h2>Acapella</h2>
            <h2>Environmental Issues</h2>
            <h2>Entrepreneurship</h2>
            <h2>Astro-everything</h2>
            <h2>Photography</h2>
            <h2>Acapella</h2>
            <h2>Environmental Issues</h2>
            <h2>Entrepreneurship</h2>
            <h2>Astro-everything</h2>
            <h2>Photography</h2>
            <h2>Acapella</h2>
            <h2>Environmental Issues</h2>
            <h2>Entrepreneurship</h2>
            <h2>Astro-everything</h2>
            <h2>Photography</h2>
            <h2>Acapella</h2>
            <h2>Environmental Issues</h2>
            <h2>Entrepreneurship</h2>
            <h2>Astro-everything</h2>
            <h2>Photography</h2>
            <h2>Acapella</h2>
            <h2>Environmental Issues</h2>
            <h2>Entrepreneurship</h2>
            <h2>Astro-everything</h2>
            <h2>Photography</h2>
            <h2>Acapella</h2>
            <h2>Environmental Issues</h2>
            <h2>Entrepreneurship</h2>
            <h2>Astro-everything</h2>
            <h2>Photography</h2>
            <h2>Acapella</h2>
            <h2>Environmental Issues</h2>
            <h2>Entrepreneurship</h2>
            <h2>Astro-everything</h2>
            <h2>Photography</h2>
            <h2>Acapella</h2>
            <h2>Environmental Issues</h2>
            <h2>Entrepreneurship</h2>
            <h2>Astro-everything</h2>
            <h2>Photography</h2>
            <h2>Acapella</h2>
            <h2>Environmental Issues</h2>
            <h2>Entrepreneurship</h2>
            <h2>Astro-everything</h2>
            
        </div>
        <img src="img/Experience-blur.png" id="experience-image">
    </div>
    
    
    
    <div class="background" id="background-skills" >
        <img src="img/Skills.png" id="skills-image" />
    </div>
    
    <div class="blur" id="background-skills-blur">
        <div class="scrollbox">
            <h1>Skills</h1>
            <h2>Photography</h2>
            <h2>Acapella</h2>
            <h2>Environmental Issues</h2>
            <h2>Entrepreneurship</h2>
            <h2>Astro-everything</h2>
            <h2>Photography</h2>
            <h2>Acapella</h2>
            <h2>Environmental Issues</h2>
            <h2>Entrepreneurship</h2>
            <h2>Astro-everything</h2>
            <h2>Photography</h2>
            <h2>Acapella</h2>
            <h2>Environmental Issues</h2>
            <h2>Entrepreneurship</h2>
            <h2>Astro-everything</h2>
            <h2>Photography</h2>
            <h2>Acapella</h2>
            <h2>Environmental Issues</h2>
            <h2>Entrepreneurship</h2>
            <h2>Astro-everything</h2>
            <h2>Photography</h2>
            <h2>Acapella</h2>
            <h2>Environmental Issues</h2>
            <h2>Entrepreneurship</h2>
            <h2>Astro-everything</h2>
            <h2>Photography</h2>
            <h2>Acapella</h2>
            <h2>Environmental Issues</h2>
            <h2>Entrepreneurship</h2>
            <h2>Astro-everything</h2>
            <h2>Photography</h2>
            <h2>Acapella</h2>
            <h2>Environmental Issues</h2>
            <h2>Entrepreneurship</h2>
            <h2>Astro-everything</h2>
            <h2>Photography</h2>
            <h2>Acapella</h2>
            <h2>Environmental Issues</h2>
            <h2>Entrepreneurship</h2>
            <h2>Astro-everything</h2>
            <h2>Photography</h2>
            <h2>Acapella</h2>
            <h2>Environmental Issues</h2>
            <h2>Entrepreneurship</h2>
            <h2>Astro-everything</h2>
            
        </div>
        <img src="img/Skills-blur.png" id="skills-image">
    </div>

    
    


    <script src="js/vendor/jquery.js"></script>
    <script src="js/foundation.min.js"></script>
    <script>
        
        function preload(arrayOfImages) {
            console.log("preloading");
            $(arrayOfImages).each(function(){
                $('<img/>')[0].src = this;
            });
        }
        
        
        window.onload = function() {
            console.log("ONLOAD");
            
            // POSITION THE MENU ITEMS
            $('ul.side-menu li').each(function() {
                var col_i = $(this).index();
                var fromLeft = (0.15 * window.innerWidth) + (col_i * 125);
                $(this).css("left", fromLeft);
            });
            
            
            // PRELOAD ALL THE IMAGES
            
            /*
            preload([
                'img/Home.png',
                'img/Interests-opaque-small.jpg',
                'img/Interests-blur.png'
            ]);
            */
            
            
            // WAT A SECOND BEFORE MENU IS ACTIVATED
            window.setTimeout( function() {
                $("div.navbar").hover(handlerIn, handlerOut);
            }, 1000);
            
            // SET THE HEIGHTS OF ELEMENTS
            var homeImageHeight = $("#home-image").height();
            console.log(homeImageHeight);
            $(".scrollbox").css("height", homeImageHeight - 82);
            

        };
    </script>
    <script>
        $(document).foundation();
    </script>
</body>

</html>
